# üìä –í–æ–∫–∑–∞–ª.–¢–ï–• ‚Äî –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—é

## üéØ –¶–µ–ª—å
–û–±–µ—Å–ø–µ—á–∏—Ç—å:
- –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
- –ë—ã—Å—Ç—Ä–æ–µ –≤—ã—è–≤–ª–µ–Ω–∏–µ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º 152-–§–ó –∏ 54-–§–ó
- –ê—É–¥–∏—Ç –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

## üß∞ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|-----------|
| **Prometheus** | –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ |
| **Grafana** | –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è, –¥–∞—à–±–æ—Ä–¥—ã |
| **Loki** | –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |
| **Alertmanager** | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–±–æ—è—Ö |
| **Sentry** | –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ UI –∏ API |

---

## üìà –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### 1. –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- CPU, RAM, Disk Usage (–Ω–∞ –≤—Å–µ—Ö –Ω–æ–¥–∞—Ö)
- –°–µ—Ç–µ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
- –ó–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏

### 2. –ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–∂ –≤ —á–∞—Å
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –ø—Ä–æ–¥–∞–∂–∏ –±–∏–ª–µ—Ç–∞
- –ß–∏—Å–ª–æ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤
- –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤—Ç–æ–±—É—Å–æ–≤ (%)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞—Å—Å

### 3. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API (`http_requests_total`, `http_request_duration_seconds`)
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î (–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã)
- –°—Ç–∞—Ç—É—Å –ö–ö–¢ (–æ–Ω–ª–∞–π–Ω/–æ—Ñ—Ñ–ª–∞–π–Ω)
- –û—á–µ—Ä–µ–¥–∏ NATS (–¥–ª–∏–Ω–∞, –∑–∞–¥–µ—Ä–∂–∫–∏)

---

## üìã –î–∞—à–±–æ—Ä–¥—ã –≤ Grafana

### 1. **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –¥–∞—à–±–æ—Ä–¥**
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤
- –ó–∞–≥—Ä—É–∑–∫–∞ CPU/–ø–∞–º—è—Ç–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
- –û—à–∏–±–∫–∏ 5xx, 4xx

### 2. **–ë–∏–∑–Ω–µ—Å-–¥–∞—à–±–æ—Ä–¥**
- –ü—Ä–æ–¥–∞–∂–∏ –ø–æ –≤–æ–∫–∑–∞–ª–∞–º
- –°–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –î–æ—Ö–æ–¥—ã –ø–æ —á–∞—Å–∞–º
- –í–æ–∑–≤—Ä–∞—Ç—ã —Å —à—Ç—Ä–∞—Ñ–∞–º–∏

### 3. **–ö–ö–¢ –∏ —Ñ–∏—Å–∫–∞–ª–∏–∑–∞—Ü–∏—è**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–µ–∫–æ–≤ (–ø—Ä–∏—Ö–æ–¥/–≤–æ–∑–≤—Ä–∞—Ç)
- –°—Ç–∞—Ç—É—Å Z-–æ—Ç—á—ë—Ç–æ–≤
- –û—à–∏–±–∫–∏ –ø–µ—á–∞—Ç–∏

---

## üì¶ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–æ–≤
- `DEBUG` ‚Äî –æ—Ç–ª–∞–¥–∫–∞ (—Ç–æ–ª—å–∫–æ –≤ dev)
- `INFO` ‚Äî –æ–ø–µ—Ä–∞—Ü–∏–∏ (–ø—Ä–æ–¥–∞–∂–∞, –≤–æ–∑–≤—Ä–∞—Ç, –ø–æ—Å–∞–¥–∫–∞)
- `WARN` ‚Äî –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–ö–ö–¢ –º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç)
- `ERROR` ‚Äî —Å–±–æ–∏ (–æ—à–∏–±–∫–∞ –æ–ø–ª–∞—Ç—ã, –ø–æ—Ç–µ—Ä—è —Å–≤—è–∑–∏)

### 2. –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤ (JSON)
```json
{
  "timestamp": "2025-04-10T08:15:23Z",
  "level": "INFO",
  "service": "ticket-service",
  "action": "ticket.sold",
  "data": {
    "ticket_id": "tk123",
    "trip_id": "t1",
    "seat": 12,
    "price": 1500.00,
    "cashier_id": "u1"
  },
  "station_id": "rostov",
  "user_id": "u1"
}
üîî –û–ø–æ–≤–µ—â–µ–Ω–∏—è (Alerts)–£—Å–ª–æ–≤–∏–µ–ö–∞–Ω–∞–ª–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–πAPI –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω > 30 —Å–µ–∫Telegram, EmailDevOps–ö–ö–¢ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç > 5 –º–∏–ΩTelegram, SMS–¢–µ—Ö–Ω–∏–∫–û—à–∏–±–∫–∞ –ø—Ä–æ–¥–∞–∂–∏ > 5 —Ä–∞–∑/–º–∏–ΩSentry, EmailQAZ-–æ—Ç—á—ë—Ç –Ω–µ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ΩEmail, Admin Panel–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (152-–§–ó)Email, Audit Log–°–ª—É–∂–±–∞ –ò–ëüìÅ –•—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤
–°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 1 –≥–æ–¥ (–ø–æ 152-–§–ó)
–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ: AES-256
–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è: –≤ MinIO + –≤–Ω–µ—à–Ω–∏–π –∞—Ä—Ö–∏–≤
üß™ –ê—É–¥–∏—Ç (audit.vokzal.tech)–ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è:
–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
–ü—Ä–æ–¥–∞–∂–∞, –≤–æ–∑–≤—Ä–∞—Ç –±–∏–ª–µ—Ç–∞
–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä—Ä–æ–Ω–∞
–§–∏—Å–∫–∞–ª–∏–∑–∞—Ü–∏—è —á–µ–∫–∞
–î–æ—Å—Ç—É–ø –∫ –ü–î–Ω
–ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏:{
  "user_id": "u1",
  "action": "ticket.return",
  "entity_type": "ticket",
  "entity_id": "tk123",
  "old_values": { "status": "active" },
  "new_values": { "status": "returned", "penalty": 150.00 },
  "ip": "192.168.1.10",
  "timestamp": "2025-04-10T08:20:00Z"
}
üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: monitor.vokzal.tech
–õ–æ–≥–∏: logs.vokzal.tech
–ê–≤–∞—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä: +7 (XXX) XXX-XX-XX
