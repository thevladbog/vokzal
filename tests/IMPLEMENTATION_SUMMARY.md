# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –†–µ–∑—é–º–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –í–æ–∫–∑–∞–ª.–¢–ï–•.

### 1. Unit —Ç–µ—Å—Ç—ã (Go)

**–°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã:**
- `/services/auth/internal/service/auth_test.go` ‚Äî –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä unit —Ç–µ—Å—Ç–æ–≤ –¥–ª—è Auth service

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ Table-driven tests –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- ‚úÖ –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (MockRepository)
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Login (—É—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –Ω–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ RefreshToken (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –∏—Å—Ç–µ—á–µ–Ω–∏–µ, –æ—Ç–∑—ã–≤ —Ç–æ–∫–µ–Ω–∞)
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Logout
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ValidateToken
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CreateUser
- ‚úÖ Benchmark —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- `testing` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Go)
- `testify/assert` –∏ `testify/mock`
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é `sqlmock` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

**–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞:** –¶–µ–ª–µ–≤–æ–µ 80% –¥–ª—è Go —Å–µ—Ä–≤–∏—Å–æ–≤

### 2. Unit —Ç–µ—Å—Ç—ã (Jest/Vitest)

**–°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã:**
- `/ui/admin-panel/src/utils/format.test.ts` ‚Äî —Ç–µ—Å—Ç—ã –¥–ª—è —É—Ç–∏–ª–∏—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `/ui/admin-panel/src/utils/format.ts` ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —É—Ç–∏–ª–∏—Ç
- `/ui/board-display/src/hooks/useWebSocket.test.ts` ‚Äî —Ç–µ—Å—Ç—ã –¥–ª—è WebSocket hook

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç (formatDate)
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ (formatTime)
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (formatDuration)
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ü–µ–Ω (formatPrice)
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏/–ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç–∞
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ cleanup –ø—Ä–∏ unmount

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- Vitest (–±—ã—Å—Ç—Ä—ã–π test runner –¥–ª—è Vite)
- @testing-library/react
- @testing-library/user-event
- MSW (–¥–ª—è –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤)

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
- –î–æ–±–∞–≤–ª–µ–Ω—ã npm scripts –≤–æ –≤—Å–µ UI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
  - `npm test` ‚Äî –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
  - `npm run test:watch` ‚Äî watch mode
  - `npm run test:coverage` ‚Äî —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
  - `npm run test:ui` ‚Äî UI –¥–ª—è —Ç–µ—Å—Ç–æ–≤

**–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞:** –¶–µ–ª–µ–≤–æ–µ 70% –¥–ª—è Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

### 3. E2E —Ç–µ—Å—Ç—ã (Cypress)

**–°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã:**
- `/tests/e2e/package.json` ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Cypress
- `/tests/e2e/cypress.config.ts` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Cypress
- `/tests/e2e/tsconfig.json` ‚Äî TypeScript –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- `/tests/e2e/cypress/support/e2e.ts` ‚Äî –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ setup
- `/tests/e2e/cypress/e2e/auth.cy.ts` ‚Äî —Ç–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `/tests/e2e/cypress/e2e/ticket-sale.cy.ts` ‚Äî —Ç–µ—Å—Ç—ã –ø—Ä–æ–¥–∞–∂–∏ –±–∏–ª–µ—Ç–æ–≤
- `/tests/e2e/cypress/e2e/ticket-refund.cy.ts` ‚Äî —Ç–µ—Å—Ç—ã –≤–æ–∑–≤—Ä–∞—Ç–∞ –±–∏–ª–µ—Ç–æ–≤
- `/tests/e2e/cypress/e2e/boarding.cy.ts` ‚Äî —Ç–µ—Å—Ç—ã –ø–æ—Å–∞–¥–∫–∏ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (auth.cy.ts):**
- ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- ‚úÖ –ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å
- ‚úÖ –ü—É—Å—Ç—ã–µ –ø–æ–ª—è (–≤–∞–ª–∏–¥–∞—Ü–∏—è)
- ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏

**–ü—Ä–æ–¥–∞–∂–∞ –±–∏–ª–µ—Ç–æ–≤ (ticket-sale.cy.ts):**
- ‚úÖ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª: –ø–æ–∏—Å–∫ ‚Üí –≤—ã–±–æ—Ä –º–µ—Å—Ç–∞ ‚Üí –¥–∞–Ω–Ω—ã–µ –ø–∞—Å—Å–∞–∂–∏—Ä–∞ ‚Üí –æ–ø–ª–∞—Ç–∞ ‚Üí —Ñ–∏—Å–∫–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí –ø–µ—á–∞—Ç—å
- ‚úÖ –ü—Ä–æ–¥–∞–∂–∞ —Å –æ–ø–ª–∞—Ç–æ–π –∫–∞—Ä—Ç–æ–π
- ‚úÖ –û—Ç–º–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–∞—Å—Å–∞–∂–∏—Ä–∞
- ‚úÖ –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç –Ω–∞ —Ä–µ–π—Å–µ
- ‚úÖ –≠–∫—Ä–∞–Ω –ø–æ–∫—É–ø–∞—Ç–µ–ª—è

**–í–æ–∑–≤—Ä–∞—Ç –±–∏–ª–µ—Ç–æ–≤ (ticket-refund.cy.ts):**
- ‚úÖ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –≤–æ–∑–≤—Ä–∞—Ç–∞
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω (–º–µ–Ω–µ–µ 1 —á–∞—Å–∞ –¥–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
- ‚úÖ –ë–∏–ª–µ—Ç —É–∂–µ –≤–æ–∑–≤—Ä–∞—â—ë–Ω
- ‚úÖ –ë–∏–ª–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- ‚úÖ –†–∞—Å—á—ë—Ç —à—Ç—Ä–∞—Ñ–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ü–µ—á–∞—Ç—å —á–µ–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞

**–ü–æ—Å–∞–¥–∫–∞ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ (boarding.cy.ts):**
- ‚úÖ –í—ã–±–æ—Ä –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–π—Å–∞ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è
- ‚úÖ –£—Å–ø–µ—à–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ QR-–∫–æ–¥–∞
- ‚úÖ –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)
- ‚úÖ –ù–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π QR-–∫–æ–¥
- ‚úÖ –ë–∏–ª–µ—Ç –Ω–∞ –¥—Ä—É–≥–æ–π —Ä–µ–π—Å
- ‚úÖ –í–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã–π –±–∏–ª–µ—Ç
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Å–∞–¥–∫–∏
- ‚úÖ –ó–≤—É–∫–æ–≤—ã–µ –∏ –≤–∏–±—Ä–æ —Å–∏–≥–Ω–∞–ª—ã
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- ‚úÖ –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º PWA

**–ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
- `cy.login(username, password)` ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `cy.loginAsAdmin()`, `cy.loginAsCashier()`, `cy.loginAsController()` ‚Äî –±—ã—Å—Ç—Ä–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `cy.logout()` ‚Äî –≤—ã—Ö–æ–¥
- `cy.getAuthToken()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- `cy.apiRequest(method, url, body)` ‚Äî API –∑–∞–ø—Ä–æ—Å —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- Cypress v13.6.3
- @cypress/code-coverage v3.12.18
- TypeScript v5.9.3

**–ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞:**
- `npm run cypress:open` ‚Äî GUI —Ä–µ–∂–∏–º
- `npm run cypress:run` ‚Äî headless —Ä–µ–∂–∏–º (–¥–ª—è CI/CD)
- `npm run cypress:run:chrome` ‚Äî –≤ Chrome
- `npm run cypress:run:firefox` ‚Äî –≤ Firefox

### 4. Load —Ç–µ—Å—Ç—ã (k6)

**–°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã:**
- `/tests/load/scenarios/auth.js` ‚Äî –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `/tests/load/scenarios/search-trips.js` ‚Äî –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ–∏—Å–∫–∞ —Ä–µ–π—Å–æ–≤
- `/tests/load/utils/helpers.js` ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (auth.js):**
- ‚úÖ Stages: —Ä–∞–∑–æ–≥—Ä–µ–≤ (0‚Üí10), —Ä–æ—Å—Ç (10‚Üí50), —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ (50), —Å–Ω–∏–∂–µ–Ω–∏–µ (50‚Üí0)
- ‚úÖ –õ–æ–≥–∏–Ω —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä–æ–ª—è–º–∏ (admin, cashier, controller)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è (GET /auth/me)
- ‚úÖ Refresh —Ç–æ–∫–µ–Ω–∞ (50% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)
- ‚úÖ Logout
- ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏: login_failures, login_duration

**–ü–æ–∏—Å–∫ —Ä–µ–π—Å–æ–≤ (search-trips.js):**
- ‚úÖ Stages: 1–º (0‚Üí20), 5–º (20‚Üí100), 10–º (100), 2–º (100‚Üí0)
- ‚úÖ –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (6 –º–∞—Ä—à—Ä—É—Ç–æ–≤)
- ‚úÖ –°–ª—É—á–∞–π–Ω–∞—è –¥–∞—Ç–∞ (–æ—Ç —Å–µ–≥–æ–¥–Ω—è –¥–æ +7 –¥–Ω–µ–π)
- ‚úÖ –ü–æ–∏—Å–∫ —Å—Ç–∞–Ω—Ü–∏–π –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è/–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ–∏—Å–∫ —Ä–µ–π—Å–æ–≤
- ‚úÖ –î–µ—Ç–∞–ª–∏ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ä–µ–π—Å–∞ (30% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)
- ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏: search_failures, search_duration, trips_found

**–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (helpers.js):**
- ‚úÖ `login(username, password)` ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ `generatePassenger()` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–∞—Å—Å–∞–∂–∏—Ä–∞
- ‚úÖ `generateFutureDate(maxDays)` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞—Ç—ã –≤ –±—É–¥—É—â–µ–º
- ‚úÖ `sleepRandom(baseSeconds, variation)` ‚Äî –∑–∞–¥–µ—Ä–∂–∫–∞ —Å –≤–∞—Ä–∏–∞—Ü–∏–µ–π
- ‚úÖ `requestWithRetry(...)` ‚Äî HTTP –∑–∞–ø—Ä–æ—Å —Å retry –ª–æ–≥–∏–∫–æ–π

**Thresholds (–ø–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è):**
- `http_req_duration`: p(95) < 500ms, p(99) < 1000ms
- `http_req_failed`: < 1% –æ—à–∏–±–æ–∫
- `login_failures`: < 5% –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ª–æ–≥–∏–Ω–æ–≤
- `search_failures`: < 5% –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–∏—Å–∫–æ–≤

**–ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞:**
```bash
# –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
k6 run scenarios/auth.js

# 100 –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, 30 —Å–µ–∫—É–Ω–¥
k6 run --vus 100 --duration 30s scenarios/search-trips.js

# –†–∞–º–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
k6 run --stage 2m:100,5m:100,2m:0 scenarios/ticket-purchase.js
```

### 5. Makefile –∫–æ–º–∞–Ω–¥—ã

–î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤:

**–í—Å–µ —Ç–µ—Å—Ç—ã:**
```bash
make test                 # unit + e2e + load smoke
make test-unit            # Go + UI unit —Ç–µ—Å—Ç—ã
```

**Go —Ç–µ—Å—Ç—ã:**
```bash
make test-services        # Unit —Ç–µ—Å—Ç—ã –≤—Å–µ—Ö Go —Å–µ—Ä–≤–∏—Å–æ–≤
make test-services-coverage  # –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞
```

**UI —Ç–µ—Å—Ç—ã:**
```bash
make test-ui              # Unit —Ç–µ—Å—Ç—ã –≤—Å–µ—Ö UI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
```

**E2E —Ç–µ—Å—Ç—ã:**
```bash
make test-e2e             # Cypress headless
make test-e2e-open        # Cypress GUI
make test-e2e-chrome      # –í Chrome
```

**Load —Ç–µ—Å—Ç—ã:**
```bash
make test-load            # auth + search-trips
make test-load-smoke      # 1 VU, 1 –º–∏–Ω—É—Ç–∞
make test-load-auth       # –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
make test-load-search     # –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç –ø–æ–∏—Å–∫–∞
make test-load-stress     # Stress test —Å –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π
```

### 6. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã:**
- `/tests/README.md` ‚Äî –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
- ‚úÖ –û–±–∑–æ—Ä –≤—Å–µ—Ö –≤–∏–¥–æ–≤ —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ Best practices
- ‚úÖ –û—Ç–ª–∞–¥–∫–∞
- ‚úÖ CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- ‚úÖ Troubleshooting

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- Unit —Ç–µ—Å—Ç—ã (Go): 1 —Ñ–∞–π–ª (auth_test.go) ‚Äî ~350 —Å—Ç—Ä–æ–∫
- Unit —Ç–µ—Å—Ç—ã (UI): 2 —Ñ–∞–π–ª–∞ ‚Äî ~200 —Å—Ç—Ä–æ–∫
- E2E —Ç–µ—Å—Ç—ã (Cypress): 5 —Ñ–∞–π–ª–æ–≤ (config + 4 spec —Ñ–∞–π–ª–∞) ‚Äî ~800 —Å—Ç—Ä–æ–∫
- Load —Ç–µ—Å—Ç—ã (k6): 3 —Ñ–∞–π–ª–∞ ‚Äî ~400 —Å—Ç—Ä–æ–∫
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: 1 —Ñ–∞–π–ª (tests/README.md) ‚Äî ~700 —Å—Ç—Ä–æ–∫
- **–ò—Ç–æ–≥–æ:** ~2450 —Å—Ç—Ä–æ–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–æ–¥–∞

**–ü–æ–∫—Ä—ã–≤–∞–µ–º—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: 10+ —Ç–µ—Å—Ç–æ–≤
- –ü—Ä–æ–¥–∞–∂–∞ –±–∏–ª–µ—Ç–æ–≤: 6+ —Ç–µ—Å—Ç–æ–≤
- –í–æ–∑–≤—Ä–∞—Ç –±–∏–ª–µ—Ç–æ–≤: 6+ —Ç–µ—Å—Ç–æ–≤
- –ü–æ—Å–∞–¥–∫–∞ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤: 10+ —Ç–µ—Å—Ç–æ–≤
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: 10+ —Ç–µ—Å—Ç–æ–≤
- WebSocket: 5+ —Ç–µ—Å—Ç–æ–≤
- Load testing: 2 –ø–æ–ª–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- Go testing + testify
- Vitest + @testing-library/react
- Cypress v13.6.3
- k6 (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π load testing tool)

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

1. ‚úÖ **Unit —Ç–µ—Å—Ç—ã** –ø–æ–∫—Ä—ã–≤–∞—é—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
2. ‚úÖ **E2E —Ç–µ—Å—Ç—ã** –ø–æ–∫—Ä—ã–≤–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
3. ‚úÖ **Load —Ç–µ—Å—Ç—ã** –ø—Ä–æ–≤–µ—Ä—è—é—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã
4. ‚úÖ **Makefile** –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
5. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** —Å–æ –≤—Å–µ–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
6. ‚úÖ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ CI/CD** (–≤—Å–µ —Ç–µ—Å—Ç—ã –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

**Go —Å–µ—Ä–≤–∏—Å—ã:**
- –î–æ–±–∞–≤–∏—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö 9 —Å–µ—Ä–≤–∏—Å–æ–≤ (Schedule, Ticket, Fiscal, Payment, Board, Notify, Audit, Document, Geo)
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω–æ–π –ë–î (testcontainers)
- Benchmark —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

**Frontend:**
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (TripCard, ProtectedRoute, –∏ —Ç.–¥.)
- Snapshot —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- Accessibility (a11y) —Ç–µ—Å—Ç—ã

**E2E:**
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è Passenger Portal (–ø–æ–∏—Å–∫, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–ø–ª–∞—Ç–∞)
- –¢–µ—Å—Ç—ã –¥–ª—è Admin Panel (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º, –æ—Ç—á—ë—Ç—ã)
- –¢–µ—Å—Ç—ã –¥–ª—è Board Display (WebSocket –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)

**Load:**
- –î–æ–±–∞–≤–∏—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π –ø–æ–∫—É–ø–∫–∏ –±–∏–ª–µ—Ç–∞
- Stress testing (–ø–æ–∏—Å–∫ –ø—Ä–µ–¥–µ–ª–∞ —Å–∏—Å—Ç–µ–º—ã)
- Soak testing (–¥–ª–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞)

### CI/CD

- GitHub Actions workflows –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
- Parallel execution –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
- Test reports –≤ PR –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö
- Coverage badges

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ—Å—Ç–æ–≤

- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è k6 —Å Prometheus/Grafana
- Test analytics (flaky tests detection)
- Performance regression detection

## ‚úÖ Task completed

–ó–∞–¥–∞—á–∞ **"–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: Unit (Go, Jest), E2E (Cypress), Load (k6)"** —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!
